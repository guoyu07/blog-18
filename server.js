module.exports=function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=9)}([function(e,n,t){"use strict";t.d(n,"a",function(){return a}),t.d(n,"f",function(){return c}),t.d(n,"b",function(){return s}),t.d(n,"d",function(){return l}),t.d(n,"g",function(){return f}),t.d(n,"e",function(){return u}),t.d(n,"h",function(){return b}),t.d(n,"c",function(){return g});var r,o=process.env.GITHUB_REPOSITORY_NAME,i=process.env.GITHUB_REPOSITORY_OWNER,a=process.env.GITHUB_EXCLUDED_LABELS.split(",");!function(e){e.user="user",e.organization="organization"}(r||(r={}));var u,c=(process.env.GITHUB_REPOSITORY_OWNER_TYPE,r.user,{name:o,owner:i}),s="Fri, 31 Dec 9999 23:59:59 GMT",l="LOCALE_COOKIE",f="1stG Blog";!function(e){e.EN="en",e.ZH="zh"}(u||(u={}));var p,h=u.EN,d=u.ZH,b=(p={},p[h]=d,p[d]=h,p),g=(u.EN,[u.EN,u.ZH])},function(e,n){e.exports=require("debug")},function(e,n){e.exports=require("koa")},function(e,n){e.exports=require("koa-compose")},function(e,n){e.exports=require("koa-session")},function(e,n,t){"use strict";t.d(n,"c",function(){return i}),t.d(n,"d",function(){return a}),t.d(n,"a",function(){return u}),t.d(n,"b",function(){return c});var r=t(18),o=t.n(r),i="localhost",a=+process.env.PORT||7e3,u=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return o.a.resolve.apply(o.a,[process.cwd()].concat(e))},c=require},function(e,n){e.exports=require("axios")},function(e,n){e.exports=require("graphql-tag")},function(e,n,t){"use strict";var r=(t(31),t(32),t(34),t(0));t.d(n,"a",function(){return r.b}),t.d(n,"b",function(){return r.c}),t.d(n,"c",function(){return r.d}),t.d(n,"d",function(){return r.g}),t.d(n,"e",function(){return r.h}),t(35)},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(10),o=t.n(r),i=t(11),a=t.n(i),u=t(1),c=t.n(u),s=t(2),l=t.n(s),f=t(12),p=t.n(f),h=t(3),d=t.n(h),b=t(13),g=t.n(b),v=t(14),y=t.n(v),x=t(4),w=t.n(x),m=t(15),_=t.n(m),E=t(16),O=t.n(E),q=t(17),T=(t.n(q),t(5)),k=t(19),S=t(8),j=this&&this.__assign||Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},A=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new t(function(n){n(e.value)}).then(a,u)}c((r=r.apply(e,n||[])).next())})},N=this&&this.__generator||function(e,n){function t(e){return function(n){return r([e,n])}}function r(t){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(a=i[2&t[0]?"return":t[0]?"throw":"next"])&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[0,a.value]),t[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,i=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){c.label=t[1];break}if(6===t[0]&&c.label<a[1]){c.label=a[1],a=t;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(t);break}a[2]&&c.ops.pop(),c.trys.pop();continue}t=n.call(e,c)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}var o,i,a,u,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u},I=this;a.a.languages(S.b);var P=process.env,R=P.APP_KEYS,G=P.GITHUB_TOKEN,L=c()("1stg:server"),C=new l.a;C.keys=R.split(",");var H,U=o.a.readFileSync(Object(T.a)("dist/template.html"),"utf-8"),B=[y()(),function(e,n){return A(I,void 0,void 0,function(){var t,r,o,i,u,c,s;return N(this,function(l){switch(l.label){case 0:return t=e.url,"GET"!==e.method||t.lastIndexOf(".")>t.lastIndexOf("/")||!["*/*","text/html"].find(function(n){return e.get("Accept").includes(n)})||/^\/(api|graphql)($|\/)/.test(e.url)?[2,n()]:[4,void 0];case 1:return l.sent(),r=Date.now(),o=e.cookies.get(S.c),i=o||a.a.get(e.get("Accept-Language")),o||e.cookies.set(S.c,i,{httpOnly:!1,path:"/",expires:new Date(S.a)}),u={ctx:e,locale:i,title:S.d},e.respond=!1,e.status=200,e.set({"Content-Type":"text/html"}),c=e.res,s=H.renderToStream(u).on("error",function(n){switch(e.status=n.status||500){case 302:return e.set({Location:n.url}),c.end();case 401:return e.redirect("/login?next="+t),c.end();case 404:return c.end("404 | Page Not Found");default:c.end("500 | Internal Server Error"),L("error during render : "+t),console.error(n.stack)}}).on("end",function(){L("whole request: "+(Date.now()-r)+"ms")}),s.pipe(c),[2]}})})}],M=_()("public",{maxAge:31536e6}),D=w()({},C);o.a,H=function(e,n){return Object(q.createBundleRenderer)(e,j({},n,{template:U,inject:!1,cache:O()({max:1e3,maxAge:9e5}),basedir:Object(T.a)("dist/static"),runInNewContext:!1}))}(Object(T.b)(Object(T.a)("dist/vue-ssr-server-bundle.json")),{clientManifest:Object(T.b)(Object(T.a)("dist/vue-ssr-client-manifest.json"))});var $={};B.splice.apply(B,[1,0,g()(),M,_()("dist/static",{maxAge:31536e6},$),D].concat(Object(k.a)(C))),$["/service-worker.js"].maxAge=0,B.push(p()("api.github.com/graphql",{filter:function(e){return"/graphql"===e.url},https:!0,proxyReqOptDecorator:function(e,n){return e.headers.Authorization="bearer "+(n.session.token||G),e}})),C.use(d()(B)),C.listen(T.d,T.c,function(){L("Server is now running at %s:%s",T.c,T.d)})},function(e,n){e.exports=require("fs")},function(e,n){e.exports=require("accept-language")},function(e,n){e.exports=require("koa-better-http-proxy")},function(e,n){e.exports=require("koa-compress")},function(e,n){e.exports=require("koa-logger")},function(e,n){e.exports=require("koa-static-cache")},function(e,n){e.exports=require("lru-cache")},function(e,n){e.exports=require("vue-server-renderer")},function(e,n){e.exports=require("path")},function(e,n,t){"use strict";var r=t(20),o=(t.n(r),t(21)),i=t.n(o),a=t(22),u=(t.n(a),t(6)),c=t.n(u),s=t(1),l=t.n(s),f=t(7),p=t.n(f),h=t(2),d=t.n(h),b=t(23),g=t.n(b),v=t(3),y=t.n(v),x=t(24),w=t.n(x),m=t(4),_=t.n(m),E=t(25),O=t.n(E),q=t(26),T=t.n(q),k=t(5),S=t(27),j=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},A=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new t(function(n){n(e.value)}).then(a,u)}c((r=r.apply(e,n||[])).next())})},N=this&&this.__generator||function(e,n){function t(e){return function(n){return r([e,n])}}function r(t){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(a=i[2&t[0]?"return":t[0]?"throw":"next"])&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[0,a.value]),t[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,i=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){c.label=t[1];break}if(6===t[0]&&c.label<a[1]){c.label=a[1],a=t;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(t);break}a[2]&&c.ops.pop(),c.trys.pop();continue}t=n.call(e,c)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}var o,i,a,u,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u},I=this;global.fetch=O.a;var P=process.env,R=P.APP_KEYS,G=P.GITHUB_CLIENT_ID,L=P.GITHUB_CLIENT_SECRET,C=l()("1stg:server:router"),H=new w.a({prefix:"/api"});H.get("/user",function(e,n){var t,r=e.session.user;r||(t=T()(),e.session.uuid=t),e.body=r||{uuid:t}}).get("/oauth",function(e,n){return A(I,void 0,void 0,function(){var n,t,o,u,s,l,f,h;return N(this,function(d){switch(d.label){case 0:return n=e.query,t=n.code,o=n.path,u=n.state,u&&u===e.session.uuid?[4,c.a.post("https://github.com/login/oauth/access_token",{client_id:G,client_secret:L,code:t,state:u},{headers:{Accept:"application/json"}})]:[2,e.throw("invalid oauth redirect")];case 1:return s=d.sent().data,s.error?[2,e.throw(s)]:(l=s.access_token,e.session.token=l,f=new i.a({link:Object(a.createHttpLink)({uri:"https://api.github.com/graphql",headers:{Authorization:"bearer "+l}}),cache:new r.InMemoryCache}),[4,f.query({query:p()(U||(U=j(["\n        query {\n          viewer {\n            avatarUrl\n            id\n            login\n            name\n            url\n            websiteUrl\n          }\n        }\n      "],["\n        query {\n          viewer {\n            avatarUrl\n            id\n            login\n            name\n            url\n            websiteUrl\n          }\n        }\n      "])))})]);case 2:return h=d.sent().data,e.session.user=h.viewer,e.redirect(""+o.replace(/ /g,"%2B")),[2]}})})}).get("/translate",S.a),n.a=function(e){var n=!!e,t=[g()(),H.routes(),H.allowedMethods()];if(e||(e=new d.a,e.keys=e.keys=R.split(","),t.unshift(_()({},e))),n)return t;e.use(y()(t)),e.listen(k.d+1,k.c,function(){C("Router server is now running at %s:%s",k.c,k.d+1)})};var U},function(e,n){e.exports=require("apollo-cache-inmemory")},function(e,n){e.exports=require("apollo-client")},function(e,n){e.exports=require("apollo-link-http")},function(e,n){e.exports=require("koa-bodyparser")},function(e,n){e.exports=require("koa-router")},function(e,n){e.exports=require("node-fetch")},function(e,n){e.exports=require("uuid")},function(e,n,t){"use strict";var r=t(6),o=t.n(r),i=t(28),a=t.n(i),u=t(29),c=t.n(u),s=t(30),l=t.n(s),f=t(8),p=this&&this.__assign||Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},h=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new t(function(n){n(e.value)}).then(a,u)}c((r=r.apply(e,n||[])).next())})},d=this&&this.__generator||function(e,n){function t(e){return function(n){return r([e,n])}}function r(t){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(a=i[2&t[0]?"return":t[0]?"throw":"next"])&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[0,a.value]),t[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,i=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){c.label=t[1];break}if(6===t[0]&&c.label<a[1]){c.label=a[1],a=t;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(t);break}a[2]&&c.ops.pop(),c.trys.pop();continue}t=n.call(e,c)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}var o,i,a,u,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u},b=this,g=process.env,v=g.GOOGLE_TRANSLATE_ENABLED,y=g.TENCENT_TRANSLATE_API_SECRET_ID,x=g.TENCENT_TRANSLATE_API_SECRET_KEY,w={Action:"TextTranslate",Region:"ap-shanghai",SecretId:y,SignatureMethod:"HmacSHA256"},m=function(e){return p({},w,{Timestamp:Math.ceil(Date.now()/1e3),Nonce:Math.ceil(Math.random()*Number.MAX_SAFE_INTEGER)},e,{target:f.e[e.source]})},_=function(e,n){return e>n?1:e<n?-1:0},E={zh:"zh-cn",en:"en"},O=function(e,n){return h(b,void 0,void 0,function(){var n,t,r,i,u,s,h,b;return d(this,function(d){switch(d.label){case 0:return n=e.query,t=n.source,r=n.sourceText,r?v?[4,c()(r,{from:E[t],to:f.e[t]})]:[3,2]:[2];case 1:return i=d.sent(),e.body=Object.assign(i,{text:i.text.replace(/<\/ ([^<>]+)>/g,"</$1>")}),[2];case 2:return u=m({source:t||e.cookies.get(f.c),sourceText:r}),s=a.a.createHmac("sha256",x).update("GETtmt.api.qcloud.com/v2/index.php?"+l.a.stringify(u,{encode:!1,sort:_})).digest("base64"),[4,o.a.get("https://tmt.api.qcloud.com/v2/index.php",{params:Object.assign(u,{Signature:s})})];case 3:return h=d.sent().data,b=h.targetText,e.body=p({},h,{targetText:b&&b.replace(/\<([^<>]+)\>/g,function(e,n){n=n.toLowerCase().replace(/ /g,"").replace(/\/+/g,"/");var t=n.indexOf("/");return-1!==t&&(n=n.substr(t)),"<"+n+">"})}),[2]}})})};n.a=O},function(e,n){e.exports=require("crypto")},function(e,n){e.exports=require("google-translate-api")},function(e,n){e.exports=require("qs")},function(e,n,t){"use strict";var r,o=t(7),i=t.n(o),a=t(0),u=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e};this&&this.__assign||Object.assign,i()(r||(r=u(["\n    query($name: String!, $owner: String!) {\n      repository(name: $name, owner: $owner) {\n        labels(first: 100) {\n          nodes {\n            color\n            id\n            name\n          }\n        }\n      }\n    }\n  "],["\n    query($name: String!, $owner: String!) {\n      repository(name: $name, owner: $owner) {\n        labels(first: 100) {\n          nodes {\n            color\n            id\n            name\n          }\n        }\n      }\n    }\n  "]))),a.f},function(e,n,t){"use strict";var r=t(33);t.n(r).a},function(e,n){e.exports=require("invert-color")},function(e,n,t){"use strict";t(0)},function(e,n,t){"use strict";var r,o=t(36),i=(t.n(o),t(37)),a=(t.n(i),t(0));r={},r[a.e.EN]=i.enUS,r[a.e.ZH]=i.zhCN},function(e,n){e.exports=require("date-fns")},function(e,n){e.exports=require("date-fns/locale")}]);